<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LucidWave</title>
  <meta name="description" content="LucidWave — 40 Hz Light & Sound for focus & relaxation." />
  <meta property="og:title" content="LucidWave — 40 Hz Light & Sound" />
  <meta property="og:description" content="A minimalist app for synchronized 40 Hz light and sound." />
  <meta property="og:image" content="assets/og-image.png" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="icon" href="assets/icon.png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container">
      <img src="assets/icon.png" alt="LucidWave logo" class="logo" />
      <h1 id="appName">LucidWave</h1>
      <p id="tagline" class="tagline">40 Hz Light & Sound for cognitive stimulation</p>
      <div class="cta-row" id="ctaRow"></div>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container">
        <h2>Features</h2>
        <div class="feature-grid" id="featureGrid"></div>
      </div>
    </section>

    <section id="story" class="section alt">
      <div class="container">
        <h2>Why I Built LucidWave</h2>
        <p class="lede" id="storyLede"></p>
        <p><a id="mitLink" href="#" target="_blank" rel="noopener">Read the MIT article</a></p>
        <div id="timeline" class="timeline"></div>
        <blockquote class="quote" id="storyQuote"></blockquote>
      </div>
    </section>

    <section id="contact" class="section">
      <div class="container">
        <h2>Contact</h2>
        <p>Questions, feedback, or support? Email me or send a message:</p>
        <p><a id="contactEmail" href="#" class="email"></a></p>
        <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" class="contact-form">
          <input type="hidden" name="form-name" value="contact" />
          <p class="hidden"><label>Don’t fill this out: <input name="bot-field" /></label></p>
          <div class="row">
            <label>Your name<input type="text" name="name" required /></label>
            <label>Your email<input type="email" name="email" required /></label>
          </div>
          <label>Message<textarea name="message" rows="5" required></textarea></label>
          <button type="submit" class="btn primary">Send</button>
          <p class="note">Hosting on GoDaddy? The form won’t submit there — use the email link above.</p>
        </form>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container small">
      <p>© <span id="year"></span> LucidWave. All rights reserved.</p>
    </div>
  </footer>

  <script>
    fetch('content.json').then(r => r.json()).then(data => {
      document.getElementById('appName').textContent = data.appName || 'LucidWave';
      document.getElementById('tagline').textContent = data.tagline || '';
      const ctaRow = document.getElementById('ctaRow');
      if (data.appStore?.comingSoon) {
        const img = document.createElement('img');
        img.src = 'assets/appstore-coming-soon.png';
        img.alt = 'Coming Soon on the App Store';
        img.className = 'badge'; ctaRow.appendChild(img);
      } else if (data.appStore?.url) {
        const a = document.createElement('a');
        a.href = data.appStore.url; a.target = '_blank'; a.rel = 'noopener';
        a.innerHTML = '<img class="badge" src="assets/appstore-badge.png" alt="Download on the App Store">';
        ctaRow.appendChild(a);
      }
      const grid = document.getElementById('featureGrid');
      (data.featuresLong||[]).forEach(txt => {
        const card = document.createElement('div'); card.className = 'f-card';
        const img = document.createElement('img'); img.src = 'assets/app-main.jpg'; img.alt = 'LucidWave screenshot';
        const p = document.createElement('p'); p.textContent = txt;
        card.appendChild(img); card.appendChild(p); grid.appendChild(card);
      });
      document.getElementById('storyLede').textContent = data.story?.lede || '';
      const mit = document.getElementById('mitLink'); if (data.story?.mitLink) mit.href = data.story.mitLink;
      const tl = document.getElementById('timeline');
      (data.story?.steps||[]).forEach((s,i) => {
        const item = document.createElement('div'); item.className = 't-item';
        item.innerHTML = `<div class="t-badge">${i+1}</div><div class="t-body"><h3>${s.title||''}</h3><p>${s.body||''}</p></div>`;
        tl.appendChild(item);
      });
      document.getElementById('storyQuote').textContent = data.story?.quote || '';
      const email = data.contactEmail || 'hello@example.com';
      const emailA = document.getElementById('contactEmail'); emailA.textContent = email; emailA.href = 'mailto:'+email;
    });
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
